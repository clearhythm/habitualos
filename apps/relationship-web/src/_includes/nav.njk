<!-- Top Navigation Bar -->
<nav class="navbar">
  <div class="nav-container">
    <button class="nav-brand" id="hamburger" aria-label="Toggle menu" style="border: none; background: none; padding: 0; cursor: pointer;">
      <span class="brand-icon">ğŸ·</span>
      <span class="brand-text">Pidgerton</span>
    </button>
  </div>
</nav>

<!-- Side Navigation Menu -->
<div class="side-menu" id="side-menu">
  <div class="side-menu-content">
    <a href="/" class="side-menu-header" style="text-decoration: none; color: #fff;">
      <span class="brand-icon">ğŸ·</span>
      <h2>Pidgerton</h2>
    </a>

    <nav class="side-menu-nav" id="side-menu-nav"></nav>
    <script type="module">
      import { isSignedIn } from "/assets/js/auth/auth.js";
      const nav = document.getElementById("side-menu-nav");
      import { getFriendlyName } from "/assets/js/auth/auth.js";
      if (isSignedIn()) {
        const name = getFriendlyName();
        nav.innerHTML = `
          <a href="/" class="nav-item"><span class="nav-icon">ğŸª´</span><span>Home</span></a>
          <a href="/capture/" class="nav-item"><span class="nav-icon">ğŸ‘’</span><span>Capture</span></a>
          <a href="/chat/" class="nav-item"><span class="nav-icon">ğŸµ</span><span>Chat</span></a>
          <a href="/moments/" class="nav-item"><span class="nav-icon">ğŸ“–</span><span>Moments</span></a>
          <a href="/export/" class="nav-item"><span class="nav-icon">&#x1F4BE;</span><span>Export</span></a>
          <a href="/signout/" class="nav-item" style="margin-top: 1rem; opacity: 0.7;"><span class="nav-icon">ğŸ‘‹</span><span>${name} Â· Sign out</span></a>
        `;
      } else {
        nav.innerHTML = `
          <a href="/signin/" class="nav-item"><span class="nav-icon">&#x1F511;</span><span>Sign in</span></a>
        `;
      }
    </script>

  </div>
</div>

<!-- Overlay for closing menu -->
<div class="side-menu-overlay" id="side-menu-overlay"></div>
