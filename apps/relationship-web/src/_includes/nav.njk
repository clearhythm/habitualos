<!-- Top Navigation Bar -->
<nav class="navbar">
  <div class="nav-container">
    <a href="/" class="nav-brand">
      <span class="brand-icon">ğŸ·</span>
      <span class="brand-text">Pidgerton</span>
    </a>

    <button class="hamburger" id="hamburger" aria-label="Toggle menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>
</nav>

<!-- Side Navigation Menu -->
<div class="side-menu" id="side-menu">
  <div class="side-menu-content">
    <div class="side-menu-header">
      <span class="brand-icon">ğŸ·</span>
      <h2>Pidgerton</h2>
    </div>

    <nav class="side-menu-nav" id="side-menu-nav"></nav>
    <script type="module">
      import { isSignedIn } from "/assets/js/auth/auth.js";
      const nav = document.getElementById("side-menu-nav");
      if (isSignedIn()) {
        nav.innerHTML = `
          <a href="/" class="nav-item"><span class="nav-icon">ğŸª´</span><span>Home</span></a>
          <a href="/rel/capture/" class="nav-item"><span class="nav-icon">ğŸ‘’</span><span>Capture</span></a>
          <a href="/rel/chat/" class="nav-item"><span class="nav-icon">ğŸµ</span><span>Chat</span></a>
          <a href="/export/" class="nav-item"><span class="nav-icon">&#x1F4BE;</span><span>Export</span></a>
        `;
      } else {
        nav.innerHTML = `
          <a href="/signin/" class="nav-item"><span class="nav-icon">&#x1F511;</span><span>Sign in</span></a>
        `;
      }
    </script>

    <div class="side-menu-footer">
      <p id="nav-auth" style="font-size: 0.85rem; padding: 0.75rem 1rem; opacity: 0.7; color: #fff;"></p>
      <script type="module">
        import { isSignedIn, getFriendlyName } from "/assets/js/auth/auth.js";
        const el = document.getElementById("nav-auth");
        if (isSignedIn()) {
          const name = getFriendlyName();
          el.innerHTML = `${name} Â· <a href="/signout/" style="text-decoration: underline; color: #fff;">Sign out</a>`;
        }
      </script>
    </div>
  </div>
</div>

<!-- Overlay for closing menu -->
<div class="side-menu-overlay" id="side-menu-overlay"></div>
